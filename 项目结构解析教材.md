# è’™å¾·é‡Œå®‰è®¡ç®—å™¨é¡¹ç›® - ä»£ç ç»“æ„è§£ææ•™æ

## ğŸ“š ç›®å½•
1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æ–‡ä»¶å…³ç³»å›¾](#æ–‡ä»¶å…³ç³»å›¾)
3. [é…ç½®æ–‡ä»¶è¯¦è§£](#é…ç½®æ–‡ä»¶è¯¦è§£)
4. [å…¥å£æ–‡ä»¶è¯¦è§£](#å…¥å£æ–‡ä»¶è¯¦è§£)
5. [ç»„ä»¶ç³»ç»Ÿè¯¦è§£](#ç»„ä»¶ç³»ç»Ÿè¯¦è§£)
6. [æ ·å¼ç³»ç»Ÿè¯¦è§£](#æ ·å¼ç³»ç»Ÿè¯¦è§£)
7. [æ•°æ®æµå‘](#æ•°æ®æµå‘)
8. [å­¦ä¹ è¦ç‚¹æ€»ç»“](#å­¦ä¹ è¦ç‚¹æ€»ç»“)

---

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**Vue 3 + Vite**æ„å»ºçš„å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ï¼Œå®ç°äº†ä¸€ä¸ªå…·æœ‰è’™å¾·é‡Œå®‰è‰ºæœ¯é£æ ¼çš„ç§‘å­¦è®¡ç®—å™¨ã€‚

### æŠ€æœ¯æ ˆ
- **Vue 3**: å‰ç«¯æ¡†æ¶ï¼ˆä½¿ç”¨ Composition APIï¼‰
- **Vite**: æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨
- **çº¯ CSS**: æ— UIæ¡†æ¶ï¼Œè‡ªå®šä¹‰æ ·å¼

---

## æ–‡ä»¶å…³ç³»å›¾

```
é¡¹ç›®å¯åŠ¨æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  package.json   â”‚ â† å®šä¹‰é¡¹ç›®ä¾èµ–å’Œè„šæœ¬å‘½ä»¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ npm run dev â†’ å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  vite.config.js â”‚ â† é…ç½® Vite æ„å»ºå·¥å…·
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   index.html    â”‚ â† HTML å…¥å£æ–‡ä»¶ï¼ˆæµè§ˆå™¨åŠ è½½çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ <script src="/src/main.js">
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   src/main.js   â”‚ â† JavaScript å…¥å£æ–‡ä»¶ï¼ˆåˆ›å»º Vue åº”ç”¨ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ import App from './App.vue'
         â”‚ import './style.css'
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   src/App.vue   â”‚ â† æ ¹ç»„ä»¶ï¼ˆåº”ç”¨çš„æœ€å¤–å±‚ç»„ä»¶ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ import Calculator from './components/Calculator.vue'
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ src/components/         â”‚
â”‚   Calculator.vue        â”‚ â† è®¡ç®—å™¨ä¸»ç»„ä»¶ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
â”‚   Calculator.css        â”‚ â† è®¡ç®—å™¨æ ·å¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é…ç½®æ–‡ä»¶è¯¦è§£

### 1. `package.json` - é¡¹ç›®é…ç½®æ–‡ä»¶

**ä½œç”¨**: å®šä¹‰é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ã€ä¾èµ–åŒ…å’Œè„šæœ¬å‘½ä»¤

```json
{
  "name": "mondrian-calculator",        // é¡¹ç›®åç§°
  "version": "1.0.0",                   // ç‰ˆæœ¬å·
  "type": "module",                     // ä½¿ç”¨ ES æ¨¡å—ï¼ˆimport/exportï¼‰
  
  "scripts": {                          // å¯æ‰§è¡Œçš„å‘½ä»¤
    "dev": "vite",                      // å¼€å‘æ¨¡å¼ï¼šnpm run dev
    "build": "vite build",              // æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼šnpm run build
    "preview": "vite preview"           // é¢„è§ˆæ„å»ºç»“æœï¼šnpm run preview
  },
  
  "dependencies": {                     // ç”Ÿäº§ç¯å¢ƒä¾èµ–ï¼ˆä¼šè¢«æ‰“åŒ…åˆ°æœ€ç»ˆä»£ç ï¼‰
    "vue": "^3.4.21"                    // Vue 3 æ¡†æ¶
  },
  
  "devDependencies": {                  // å¼€å‘ç¯å¢ƒä¾èµ–ï¼ˆåªåœ¨å¼€å‘æ—¶ä½¿ç”¨ï¼‰
    "@vitejs/plugin-vue": "^5.0.4",     // Vite çš„ Vue æ’ä»¶
    "vite": "^5.1.6"                    // Vite æ„å»ºå·¥å…·
  }
}
```

**å…³é”®æ¦‚å¿µ**:
- **dependencies**: è¿è¡Œæ—¶éœ€è¦çš„åŒ…ï¼ˆå¦‚ Vueï¼‰
- **devDependencies**: å¼€å‘æ—¶éœ€è¦çš„å·¥å…·ï¼ˆå¦‚ Viteï¼‰
- **scripts**: é€šè¿‡ `npm run <è„šæœ¬å>` æ‰§è¡Œçš„å‘½ä»¤

---

### 2. `vite.config.js` - Vite æ„å»ºé…ç½®

**ä½œç”¨**: é…ç½® Vite å¦‚ä½•æ„å»ºå’Œå¼€å‘é¡¹ç›®

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  base: '/test_1/',              // éƒ¨ç½²æ—¶çš„åŸºç¡€è·¯å¾„
  plugins: [vue()],              // ä½¿ç”¨ Vue æ’ä»¶ï¼ˆè®© Vite èƒ½å¤„ç† .vue æ–‡ä»¶ï¼‰
  
  build: {                       // ç”Ÿäº§æ„å»ºé…ç½®
    outDir: 'dist',              // è¾“å‡ºç›®å½•
    assetsDir: 'assets',         // é™æ€èµ„æºç›®å½•
    minify: 'esbuild'            // ä»£ç å‹ç¼©å·¥å…·
  },
  
  server: {                      // å¼€å‘æœåŠ¡å™¨é…ç½®
    port: 3000,                  // ç«¯å£å·
    open: true                   // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
  }
})
```

**å…³é”®æ¦‚å¿µ**:
- **plugins**: æ‰©å±• Vite åŠŸèƒ½çš„æ’ä»¶
- **build**: ç”Ÿäº§ç¯å¢ƒæ„å»ºé…ç½®
- **server**: å¼€å‘æœåŠ¡å™¨é…ç½®

---

### 3. `cloudbase.json` - äº‘éƒ¨ç½²é…ç½®

**ä½œç”¨**: é…ç½®å¦‚ä½•éƒ¨ç½²åˆ°è…¾è®¯äº‘ CloudBase

```json
{
  "version": "2.0",
  "envId": "your-env-id",        // ç¯å¢ƒIDï¼ˆéœ€è¦æ›¿æ¢ä¸ºå®é™…å€¼ï¼‰
  "framework": {
    "name": "vue",               // æ¡†æ¶ç±»å‹
    "runtime": "nodejs22"        // Node.js ç‰ˆæœ¬
  },
  "static": {
    "root": "dist",              // é™æ€æ–‡ä»¶æ ¹ç›®å½•ï¼ˆæ„å»ºåçš„è¾“å‡ºï¼‰
    "index": "index.html"        // å…¥å£ HTML æ–‡ä»¶
  }
}
```

**æ³¨æ„**: è¿™ä¸ªæ–‡ä»¶åªåœ¨éƒ¨ç½²åˆ°äº‘å¹³å°æ—¶ä½¿ç”¨ï¼Œæœ¬åœ°å¼€å‘ä¸éœ€è¦ã€‚

---

## å…¥å£æ–‡ä»¶è¯¦è§£

### 4. `index.html` - HTML å…¥å£æ–‡ä»¶

**ä½œç”¨**: æµè§ˆå™¨åŠ è½½çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œå®šä¹‰é¡µé¢ç»“æ„å’Œå¼•å…¥ JavaScript

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Constructivism Ã— Mondrian ç§‘å­¦è®¡ç®—å™¨</title>
</head>
<body>
  <div id="app"></div>                    <!-- Vue åº”ç”¨æŒ‚è½½ç‚¹ -->
  <script type="module" src="/src/main.js"></script>  <!-- å¼•å…¥å…¥å£ JS -->
</body>
</html>
```

**å…³é”®æ¦‚å¿µ**:
- `<div id="app">`: Vue åº”ç”¨ä¼šæŒ‚è½½åˆ°è¿™ä¸ªå…ƒç´ ä¸Š
- `type="module"`: ä½¿ç”¨ ES æ¨¡å—è¯­æ³•ï¼ˆæ”¯æŒ import/exportï¼‰
- `/src/main.js`: Vite ä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªè·¯å¾„ï¼ŒæŒ‡å‘æºä»£ç 

**æ‰§è¡Œé¡ºåº**: 
1. æµè§ˆå™¨åŠ è½½ `index.html`
2. é‡åˆ° `<script>` æ ‡ç­¾ï¼ŒåŠ è½½ `main.js`
3. `main.js` åˆ›å»º Vue åº”ç”¨å¹¶æŒ‚è½½åˆ° `#app`

---

### 5. `src/main.js` - JavaScript å…¥å£æ–‡ä»¶

**ä½œç”¨**: åˆ›å»º Vue åº”ç”¨å®ä¾‹ï¼Œå¹¶æŒ‚è½½åˆ° DOM

```javascript
import { createApp } from 'vue'    // ä» Vue å¯¼å…¥åˆ›å»ºåº”ç”¨çš„å‡½æ•°
import App from './App.vue'         // å¯¼å…¥æ ¹ç»„ä»¶
import './style.css'                // å¯¼å…¥å…¨å±€æ ·å¼

createApp(App).mount('#app')        // åˆ›å»ºåº”ç”¨å¹¶æŒ‚è½½åˆ° #app å…ƒç´ 
```

**ä»£ç è§£æ**:
1. `import { createApp } from 'vue'`: ä» Vue 3 å¯¼å…¥ `createApp` å‡½æ•°
2. `import App from './App.vue'`: å¯¼å…¥æ ¹ç»„ä»¶ï¼ˆ`.vue` æ–‡ä»¶ä¼šè¢« Vite å¤„ç†ï¼‰
3. `import './style.css'`: å¯¼å…¥å…¨å±€æ ·å¼ï¼ˆCSS ä¹Ÿä¼šè¢« Vite å¤„ç†ï¼‰
4. `createApp(App)`: åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ï¼Œä½¿ç”¨ `App` ä½œä¸ºæ ¹ç»„ä»¶
5. `.mount('#app')`: å°†åº”ç”¨æŒ‚è½½åˆ° `id="app"` çš„ DOM å…ƒç´ ä¸Š

**å…³é”®æ¦‚å¿µ**:
- **ç»„ä»¶**: Vue ä¸­çš„å¯å¤ç”¨ UI å•å…ƒï¼ˆ`.vue` æ–‡ä»¶ï¼‰
- **æŒ‚è½½**: å°† Vue åº”ç”¨æ¸²æŸ“åˆ°çœŸå®çš„ DOM å…ƒç´ ä¸Š

---

## ç»„ä»¶ç³»ç»Ÿè¯¦è§£

### 6. `src/App.vue` - æ ¹ç»„ä»¶

**ä½œç”¨**: åº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œé€šå¸¸åªè´Ÿè´£å¼•å…¥å…¶ä»–ä¸»è¦ç»„ä»¶

```vue
<template>
  <Calculator />                    <!-- ä½¿ç”¨ Calculator ç»„ä»¶ -->
</template>

<script setup>
import Calculator from './components/Calculator.vue'  // å¯¼å…¥è®¡ç®—å™¨ç»„ä»¶
</script>
```

**Vue å•æ–‡ä»¶ç»„ä»¶ç»“æ„**:
- `<template>`: HTML æ¨¡æ¿ï¼ˆå®šä¹‰ç»„ä»¶çš„ç»“æ„ï¼‰
- `<script setup>`: JavaScript é€»è¾‘ï¼ˆVue 3 Composition API è¯­æ³•ï¼‰
- `<style>`: CSS æ ·å¼ï¼ˆå¯é€‰ï¼Œè¿™é‡Œæ²¡æœ‰ï¼‰

**å…³é”®æ¦‚å¿µ**:
- **ç»„ä»¶å¯¼å…¥**: ä½¿ç”¨ `import` å¯¼å…¥å…¶ä»–ç»„ä»¶
- **ç»„ä»¶ä½¿ç”¨**: åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `<ç»„ä»¶å />` æ ‡ç­¾
- **script setup**: Vue 3 çš„ç®€åŒ–è¯­æ³•ï¼Œè‡ªåŠ¨å¤„ç†å“åº”å¼

---

### 7. `src/components/Calculator.vue` - è®¡ç®—å™¨ä¸»ç»„ä»¶

**ä½œç”¨**: å®ç°è®¡ç®—å™¨çš„æ‰€æœ‰åŠŸèƒ½å’Œç•Œé¢

#### 7.1 æ¨¡æ¿éƒ¨åˆ† (`<template>`)

```vue
<template>
  <div class="calculator-container">
    <!-- æ˜¾ç¤ºåŒºåŸŸ -->
    <div class="display">
      <div class="display-expression">{{ expression }}</div>  <!-- æ˜¾ç¤ºè¡¨è¾¾å¼ -->
      <div class="display-value">{{ current }}</div>          <!-- æ˜¾ç¤ºå½“å‰å€¼ -->
    </div>
    
    <!-- æŒ‰é’®åŒºåŸŸ -->
    <button @click="handleNumber('7')">7</button>            <!-- æ•°å­—æŒ‰é’® -->
    <button @click="handleOp('+')">ï¼‹</button>               <!-- è¿ç®—ç¬¦æŒ‰é’® -->
    <!-- ... æ›´å¤šæŒ‰é’® ... -->
  </div>
</template>
```

**å…³é”®æ¦‚å¿µ**:
- `{{ expression }}`: **æ’å€¼è¡¨è¾¾å¼**ï¼Œæ˜¾ç¤ºå˜é‡çš„å€¼
- `@click="handleNumber('7')"`: **äº‹ä»¶ç»‘å®š**ï¼Œç‚¹å‡»æ—¶è°ƒç”¨å‡½æ•°
- `v-for`: **åˆ—è¡¨æ¸²æŸ“**ï¼ˆç”¨äºå¾ªç¯ç”ŸæˆæŒ‰é’®ï¼‰

#### 7.2 è„šæœ¬éƒ¨åˆ† (`<script setup>`)

```javascript
import { ref, onMounted, onUnmounted } from 'vue'
import './Calculator.css'

// å“åº”å¼æ•°æ®
const expression = ref('')      // è¡¨è¾¾å¼å­—ç¬¦ä¸²
const current = ref('0')        // å½“å‰æ˜¾ç¤ºçš„å€¼
const justEvaluated = ref(false) // æ˜¯å¦åˆšè®¡ç®—å®Œ

// å‡½æ•°å®šä¹‰
function handleNumber(num) {
  inputNumber(num)
}

function equal() {
  // è®¡ç®—é€»è¾‘
  const jsExpr = buildJsExpression(expression.value)
  const result = Function('"use strict"; return (' + jsExpr + ')')()
  current.value = String(result)
}
```

**å…³é”®æ¦‚å¿µ**:
- **ref()**: åˆ›å»ºå“åº”å¼æ•°æ®ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼Œç•Œé¢è‡ªåŠ¨æ›´æ–°ï¼‰
- **å“åº”å¼**: å½“ `current.value` æ”¹å˜æ—¶ï¼Œæ¨¡æ¿ä¸­çš„ `{{ current }}` ä¼šè‡ªåŠ¨æ›´æ–°
- **ç”Ÿå‘½å‘¨æœŸé’©å­**: `onMounted`ï¼ˆç»„ä»¶æŒ‚è½½åæ‰§è¡Œï¼‰ã€`onUnmounted`ï¼ˆç»„ä»¶å¸è½½å‰æ‰§è¡Œï¼‰

#### 7.3 æ•°æ®æµç¤ºä¾‹

```
ç”¨æˆ·ç‚¹å‡»æŒ‰é’® "7"
    â†“
@click="handleNumber('7')" è§¦å‘
    â†“
handleNumber('7') å‡½æ•°æ‰§è¡Œ
    â†“
inputNumber('7') æ›´æ–°æ•°æ®
    â†“
current.value = '7'  (å“åº”å¼æ•°æ®æ”¹å˜)
    â†“
æ¨¡æ¿ä¸­çš„ {{ current }} è‡ªåŠ¨æ›´æ–°ä¸º "7"
    â†“
ç•Œé¢æ˜¾ç¤º "7"
```

---

## æ ·å¼ç³»ç»Ÿè¯¦è§£

### 8. `src/style.css` - å…¨å±€æ ·å¼

**ä½œç”¨**: å®šä¹‰æ•´ä¸ªåº”ç”¨çš„å…¨å±€æ ·å¼ï¼ˆèƒŒæ™¯ã€å¸ƒå±€ç­‰ï¼‰

```css
* {
  box-sizing: border-box;    /* ç›’æ¨¡å‹ï¼šå®½åº¦åŒ…å« padding å’Œ border */
  margin: 0;
  padding: 0;
}

body {
  height: 100vh;             /* è§†å£é«˜åº¦ */
  display: flex;             /* å¼¹æ€§å¸ƒå±€ */
  align-items: center;       /* å‚ç›´å±…ä¸­ */
  justify-content: center;   /* æ°´å¹³å±…ä¸­ */
  background: radial-gradient(...);  /* æ¸å˜èƒŒæ™¯ */
}

#app {
  width: 100%;
  height: 100%;
}
```

**å…³é”®æ¦‚å¿µ**:
- **å…¨å±€æ ·å¼**: å½±å“æ•´ä¸ªé¡µé¢çš„æ ·å¼
- **CSS é€‰æ‹©å™¨**: `*`ï¼ˆæ‰€æœ‰å…ƒç´ ï¼‰ã€`body`ã€`#app`ï¼ˆIDé€‰æ‹©å™¨ï¼‰
- **Flexbox**: ç°ä»£ CSS å¸ƒå±€æ–¹å¼ï¼Œç”¨äºå±…ä¸­å…ƒç´ 

---

### 9. `src/components/Calculator.css` - ç»„ä»¶æ ·å¼

**ä½œç”¨**: å®šä¹‰è®¡ç®—å™¨ç»„ä»¶çš„å…·ä½“æ ·å¼ï¼ˆæŒ‰é’®ã€æ˜¾ç¤ºåŒºç­‰ï¼‰

```css
.calculator-container {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

button {
  border: none;
  cursor: pointer;
  background: #ffffff;
  transition: background 0.08s ease;  /* è¿‡æ¸¡åŠ¨ç”» */
}

button:active {
  transform: translate(1px, 1px);     /* æŒ‰ä¸‹æ•ˆæœ */
}
```

**å…³é”®æ¦‚å¿µ**:
- **ç±»é€‰æ‹©å™¨**: `.calculator-container` é€‰æ‹© class ä¸º "calculator-container" çš„å…ƒç´ 
- **ä¼ªç±»**: `:active`ï¼ˆæŒ‰ä¸‹çŠ¶æ€ï¼‰ã€`:hover`ï¼ˆæ‚¬åœçŠ¶æ€ï¼‰
- **CSS è¿‡æ¸¡**: `transition` å®ç°å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ

**æ ·å¼ä½œç”¨åŸŸ**:
- `style.css`: å…¨å±€æ ·å¼ï¼Œå½±å“æ•´ä¸ªåº”ç”¨
- `Calculator.css`: ç»„ä»¶æ ·å¼ï¼Œåªå½±å“è®¡ç®—å™¨ç»„ä»¶ï¼ˆé€šè¿‡ import å¼•å…¥ï¼‰

---

## æ•°æ®æµå‘

### å®Œæ•´çš„æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                            â”‚
â”‚  (ç‚¹å‡»æŒ‰é’® / é”®ç›˜è¾“å…¥)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             äº‹ä»¶å¤„ç†å‡½æ•° (Calculator.vue)                â”‚
â”‚  handleNumber() / handleOp() / equal() ç­‰               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å“åº”å¼æ•°æ® (ref)                            â”‚
â”‚  expression = ref('')                                   â”‚
â”‚  current = ref('0')                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ¨¡æ¿è‡ªåŠ¨æ›´æ–° (Vue å“åº”å¼ç³»ç»Ÿ)               â”‚
â”‚  {{ expression }} â†’ æ˜¾ç¤ºè¡¨è¾¾å¼                           â”‚
â”‚  {{ current }} â†’ æ˜¾ç¤ºå½“å‰å€¼                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æµè§ˆå™¨ç•Œé¢                             â”‚
â”‚  (ç”¨æˆ·çœ‹åˆ°æ›´æ–°åçš„å†…å®¹)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…·ä½“ç¤ºä¾‹ï¼šè®¡ç®— 7 + 3

```
1. ç”¨æˆ·ç‚¹å‡» "7"
   â†’ @click="handleNumber('7')"
   â†’ current.value = '7'
   â†’ expression.value = '7'
   â†’ ç•Œé¢æ˜¾ç¤º: "7"

2. ç”¨æˆ·ç‚¹å‡» "+"
   â†’ @click="handleOp('+')"
   â†’ expression.value = '7ï¼‹'
   â†’ ç•Œé¢æ˜¾ç¤º: "7ï¼‹"

3. ç”¨æˆ·ç‚¹å‡» "3"
   â†’ @click="handleNumber('3')"
   â†’ current.value = '3'
   â†’ expression.value = '7ï¼‹3'
   â†’ ç•Œé¢æ˜¾ç¤º: "3" (å½“å‰å€¼), "7ï¼‹3" (è¡¨è¾¾å¼)

4. ç”¨æˆ·ç‚¹å‡» "="
   â†’ @click="equal()"
   â†’ buildJsExpression('7ï¼‹3') â†’ '7+3'
   â†’ Function('return (7+3)')() â†’ 10
   â†’ current.value = '10'
   â†’ expression.value = '10'
   â†’ ç•Œé¢æ˜¾ç¤º: "10"
```

---

## å­¦ä¹ è¦ç‚¹æ€»ç»“

### 1. é¡¹ç›®å¯åŠ¨æµç¨‹
```
package.json (å®šä¹‰å‘½ä»¤)
    â†“
npm run dev
    â†“
vite.config.js (é…ç½®æ„å»ºå·¥å…·)
    â†“
index.html (HTML å…¥å£)
    â†“
main.js (åˆ›å»º Vue åº”ç”¨)
    â†“
App.vue (æ ¹ç»„ä»¶)
    â†“
Calculator.vue (åŠŸèƒ½ç»„ä»¶)
```

### 2. Vue 3 æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **ç»„ä»¶** | å¯å¤ç”¨çš„ UI å•å…ƒ | `Calculator.vue` |
| **å“åº”å¼æ•°æ®** | æ•°æ®å˜åŒ–è‡ªåŠ¨æ›´æ–°ç•Œé¢ | `ref('0')` |
| **æ¨¡æ¿è¯­æ³•** | åœ¨ HTML ä¸­ä½¿ç”¨ JavaScript | `{{ current }}` |
| **äº‹ä»¶ç»‘å®š** | å¤„ç†ç”¨æˆ·äº¤äº’ | `@click="handleNumber('7')"` |
| **ç”Ÿå‘½å‘¨æœŸ** | ç»„ä»¶åˆ›å»º/é”€æ¯æ—¶çš„é’©å­ | `onMounted()` |

### 3. æ–‡ä»¶èŒè´£åˆ’åˆ†

| æ–‡ä»¶ | èŒè´£ | ç±»å‹ |
|------|------|------|
| `package.json` | é¡¹ç›®é…ç½®ã€ä¾èµ–ç®¡ç† | é…ç½®æ–‡ä»¶ |
| `vite.config.js` | æ„å»ºå·¥å…·é…ç½® | é…ç½®æ–‡ä»¶ |
| `index.html` | HTML å…¥å£ | æ¨¡æ¿æ–‡ä»¶ |
| `main.js` | åˆ›å»º Vue åº”ç”¨ | å…¥å£æ–‡ä»¶ |
| `App.vue` | æ ¹ç»„ä»¶ | Vue ç»„ä»¶ |
| `Calculator.vue` | è®¡ç®—å™¨åŠŸèƒ½ | Vue ç»„ä»¶ |
| `style.css` | å…¨å±€æ ·å¼ | æ ·å¼æ–‡ä»¶ |
| `Calculator.css` | ç»„ä»¶æ ·å¼ | æ ·å¼æ–‡ä»¶ |

### 4. å…³é”®ä»£ç æ¨¡å¼

#### å“åº”å¼æ•°æ®
```javascript
const current = ref('0')        // åˆ›å»ºå“åº”å¼æ•°æ®
current.value = '7'             // ä¿®æ”¹æ•°æ®ï¼ˆæ³¨æ„ .valueï¼‰
```

#### äº‹ä»¶å¤„ç†
```vue
<button @click="handleNumber('7')">7</button>
```

#### æ•°æ®ç»‘å®š
```vue
<div>{{ current }}</div>        <!-- æ˜¾ç¤ºæ•°æ® -->
```

#### ç»„ä»¶å¯¼å…¥å’Œä½¿ç”¨
```javascript
import Calculator from './components/Calculator.vue'  // å¯¼å…¥
```
```vue
<Calculator />                  <!-- ä½¿ç”¨ -->
```

### 5. å­¦ä¹ è·¯å¾„å»ºè®®

1. **ç†è§£é¡¹ç›®ç»“æ„**: å…ˆç†è§£æ–‡ä»¶ä¹‹é—´çš„å…³ç³»
2. **å­¦ä¹  Vue åŸºç¡€**: ç»„ä»¶ã€å“åº”å¼ã€æ¨¡æ¿è¯­æ³•
3. **ç†è§£æ•°æ®æµ**: ç”¨æˆ·æ“ä½œ â†’ å‡½æ•° â†’ æ•°æ®æ›´æ–° â†’ ç•Œé¢æ›´æ–°
4. **å®è·µä¿®æ”¹**: å°è¯•ä¿®æ”¹æ ·å¼ã€æ·»åŠ æŒ‰é’®ã€æ”¹å˜åŠŸèƒ½
5. **æ·±å…¥å­¦ä¹ **: å­¦ä¹  Vue 3 Composition APIã€ç”Ÿå‘½å‘¨æœŸç­‰

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆéœ€è¦ `ref()`ï¼Ÿ
**A**: `ref()` åˆ›å»ºå“åº”å¼æ•°æ®ã€‚å½“æ•°æ®æ”¹å˜æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨æ›´æ–°ç•Œé¢ã€‚å¦‚æœä¸ç”¨ `ref()`ï¼Œæ•°æ®æ”¹å˜åç•Œé¢ä¸ä¼šæ›´æ–°ã€‚

### Q2: ä¸ºä»€ä¹ˆæ¨¡æ¿ä¸­ç”¨ `{{ current }}`ï¼Œä»£ç ä¸­ç”¨ `current.value`ï¼Ÿ
**A**: åœ¨æ¨¡æ¿ä¸­ï¼ŒVue è‡ªåŠ¨è§£åŒ… `ref`ï¼Œæ‰€ä»¥ç›´æ¥ç”¨ `current`ã€‚åœ¨ JavaScript ä»£ç ä¸­ï¼Œéœ€è¦ `.value` æ¥è®¿é—®å®é™…å€¼ã€‚

### Q3: `@click` å’Œ `onclick` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
**A**: `@click` æ˜¯ Vue çš„è¯­æ³•ç³–ï¼Œç­‰åŒäº `v-on:click`ã€‚å®ƒæä¾›äº†æ›´å¥½çš„äº‹ä»¶å¤„ç†å’Œç»„ä»¶é›†æˆã€‚

### Q4: ä¸ºä»€ä¹ˆæ ·å¼è¦åˆ†å¼€ä¸¤ä¸ªæ–‡ä»¶ï¼Ÿ
**A**: 
- `style.css`: å…¨å±€æ ·å¼ï¼ˆèƒŒæ™¯ã€æ•´ä½“å¸ƒå±€ï¼‰
- `Calculator.css`: ç»„ä»¶æ ·å¼ï¼ˆåªå½±å“è®¡ç®—å™¨ï¼‰

è¿™æ ·ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚

---

## ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®

1. **ä¿®æ”¹æ ·å¼**: å°è¯•æ”¹å˜æŒ‰é’®é¢œè‰²ã€å¸ƒå±€
2. **æ·»åŠ åŠŸèƒ½**: æ·»åŠ æ–°çš„æ•°å­¦å‡½æ•°ï¼ˆå¦‚ `exp`ã€`abs`ï¼‰
3. **ä¼˜åŒ–ä»£ç **: é‡æ„å‡½æ•°ï¼Œæé«˜ä»£ç å¯è¯»æ€§
4. **å­¦ä¹  Vue Router**: å¦‚æœè¦åšå¤šé¡µé¢åº”ç”¨
5. **å­¦ä¹ çŠ¶æ€ç®¡ç†**: å¦‚æœæ•°æ®æ›´å¤æ‚ï¼Œå­¦ä¹  Pinia æˆ– Vuex

---

**ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼** ğŸ‰
